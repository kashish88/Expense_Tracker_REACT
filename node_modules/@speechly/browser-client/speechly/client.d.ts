import { ClientOptions, StateChangeCallback, SegmentChangeCallback, TentativeTranscriptCallback, TranscriptCallback, TentativeEntitiesCallback, EntityCallback, IntentCallback } from './types';
/**
 * A client for Speechly Spoken Language Understanding (SLU) API. The client handles initializing the microphone
 * and websocket connection to Speechly API, passing control events and audio stream to the API, reading the responses
 * and dispatching them, as well as providing a high-level API for interacting with so-called speech segments.
 * @public
 */
export declare class Client {
    private readonly debug;
    private readonly appId;
    private readonly storage;
    private readonly microphone;
    private readonly websocket;
    private readonly activeContexts;
    private readonly reconnectAttemptCount;
    private readonly reconnectMinDelay;
    private readonly contextStopDelay;
    private stoppedContextIdPromise?;
    private resolveStopContext?;
    private deviceId?;
    private authToken?;
    private state;
    private stateChangeCb;
    private segmentChangeCb;
    private tentativeTranscriptCb;
    private tentativeEntitiesCb;
    private tentativeIntentCb;
    private transcriptCb;
    private entityCb;
    private intentCb;
    constructor(options: ClientOptions);
    /**
     * Initializes the client, by initializing the microphone and establishing connection to the API.
     *
     * This function HAS to be invoked by a user by e.g. binding it to a button press,
     * or some other user-performed action.
     *
     * If this function is invoked without a user interaction,
     * the microphone functionality will not work due to security restrictions by the browser.
     */
    initialize(): Promise<void>;
    /**
     * Closes the client by closing the API connection and disabling the microphone.
     */
    close(): Promise<void>;
    /**
     * Starts a new SLU context by sending a start context event to the API and unmuting the microphone.
     * @param cb - the callback which is invoked when the context start was acknowledged by the API.
     */
    startContext(): Promise<string>;
    /**
     * Stops current SLU context by sending a stop context event to the API and muting the microphone
     * delayed by contextStopDelay = 250 ms
     */
    stopContext(): Promise<string>;
    private _stopContext;
    /**
     * Adds a listener for client state change events.
     * @param cb - the callback to invoke on state change events.
     */
    onStateChange(cb: StateChangeCallback): void;
    /**
     * Adds a listener for current segment change events.
     * @param cb - the callback to invoke on segment change events.
     */
    onSegmentChange(cb: SegmentChangeCallback): void;
    /**
     * Adds a listener for tentative transcript responses from the API.
     * @param cb - the callback to invoke on a tentative transcript response.
     */
    onTentativeTranscript(cb: TentativeTranscriptCallback): void;
    /**
     * Adds a listener for transcript responses from the API.
     * @param cb - the callback to invoke on a transcript response.
     */
    onTranscript(cb: TranscriptCallback): void;
    /**
     * Adds a listener for tentative entities responses from the API.
     * @param cb - the callback to invoke on a tentative entities response.
     */
    onTentativeEntities(cb: TentativeEntitiesCallback): void;
    /**
     * Adds a listener for entity responses from the API.
     * @param cb - the callback to invoke on an entity response.
     */
    onEntity(cb: EntityCallback): void;
    /**
     * Adds a listener for tentative intent responses from the API.
     * @param cb - the callback to invoke on a tentative intent response.
     */
    onTentativeIntent(cb: IntentCallback): void;
    /**
     * Adds a listener for intent responses from the API.
     * @param cb - the callback to invoke on an intent response.
     */
    onIntent(cb: IntentCallback): void;
    private readonly handleWebsocketResponse;
    private readonly handleWebsocketClosure;
    private reconnectWebsocket;
    private initializeWebsocket;
    private readonly handleMicrophoneAudio;
    private setState;
}
