{"ast":null,"code":"import { useContext } from 'react';\nimport { ExpenseTrackerContext } from './context/context';\nimport { incomeCategories, expenseCategories, resetCategories } from './constants/categories';\n\nconst useTransactions = title => {\n  resetCategories();\n  const {\n    transactions\n  } = useContext(ExpenseTrackerContext);\n  const transactionsPerType = transactions.filter(t => t.type === title);\n  const total = transactionsPerType.reduce((acc, currVal) => acc + currVal.amount, 0);\n  const categories = title == 'Income' ? incomeCategories : expenseCategories;\n  console.log({\n    transactionsPerType,\n    total,\n    categories\n  });\n  transactionsPerType.forEach(t => {\n    const category = categories.find(c => c.type === t.category);\n    if (category) category.amount += t.amount;\n  });\n  const filteredCategories = categories.filter(c => c.amount > 0);\n  const chartData = {\n    datasets: [{\n      data: filteredCategories.map(c => c.amount),\n      backgroundColor: filteredCategories.map(c => c.color)\n    }],\n    labels: filteredCategories.map(c => c.type)\n  };\n  return {\n    total,\n    chartData\n  };\n};\n\nexport default useTransactions;","map":{"version":3,"sources":["C:/Users/DELL/my-project/src/useTransactions.js"],"names":["useContext","ExpenseTrackerContext","incomeCategories","expenseCategories","resetCategories","useTransactions","title","transactions","transactionsPerType","filter","t","type","total","reduce","acc","currVal","amount","categories","console","log","forEach","category","find","c","filteredCategories","chartData","datasets","data","map","backgroundColor","color","labels"],"mappings":"AAAA,SAAQA,UAAR,QAAyB,OAAzB;AACA,SAAQC,qBAAR,QAAoC,mBAApC;AAEA,SAAQC,gBAAR,EAAyBC,iBAAzB,EAA2CC,eAA3C,QAAiE,wBAAjE;;AAEA,MAAMC,eAAe,GAAEC,KAAD,IAAS;AAC5BF,EAAAA,eAAe;AACf,QAAM;AAACG,IAAAA;AAAD,MAAeP,UAAU,CAACC,qBAAD,CAA/B;AACA,QAAMO,mBAAmB,GAACD,YAAY,CAACE,MAAb,CAAqBC,CAAD,IAAKA,CAAC,CAACC,IAAF,KAASL,KAAlC,CAA1B;AACA,QAAMM,KAAK,GAACJ,mBAAmB,CAACK,MAApB,CAA2B,CAACC,GAAD,EAAKC,OAAL,KAAeD,GAAG,GAACC,OAAO,CAACC,MAAtD,EAA6D,CAA7D,CAAZ;AACA,QAAMC,UAAU,GAACX,KAAK,IAAE,QAAP,GAAgBJ,gBAAhB,GAAiCC,iBAAlD;AACAe,EAAAA,OAAO,CAACC,GAAR,CAAY;AAACX,IAAAA,mBAAD;AAAqBI,IAAAA,KAArB;AAA2BK,IAAAA;AAA3B,GAAZ;AACAT,EAAAA,mBAAmB,CAACY,OAApB,CAA6BV,CAAD,IAAK;AAC9B,UAAMW,QAAQ,GAACJ,UAAU,CAACK,IAAX,CAAiBC,CAAD,IAAKA,CAAC,CAACZ,IAAF,KAASD,CAAC,CAACW,QAAhC,CAAf;AACA,QAAGA,QAAH,EACAA,QAAQ,CAACL,MAAT,IAAiBN,CAAC,CAACM,MAAnB;AACF,GAJD;AAKA,QAAMQ,kBAAkB,GAACP,UAAU,CAACR,MAAX,CAAmBc,CAAD,IAAKA,CAAC,CAACP,MAAF,GAAS,CAAhC,CAAzB;AAEA,QAAMS,SAAS,GAAC;AACbC,IAAAA,QAAQ,EAAC,CAAC;AACPC,MAAAA,IAAI,EAACH,kBAAkB,CAACI,GAAnB,CAAwBL,CAAD,IAAKA,CAAC,CAACP,MAA9B,CADE;AAEPa,MAAAA,eAAe,EAACL,kBAAkB,CAACI,GAAnB,CAAwBL,CAAD,IAAKA,CAAC,CAACO,KAA9B;AAFT,KAAD,CADI;AAKbC,IAAAA,MAAM,EAACP,kBAAkB,CAACI,GAAnB,CAAwBL,CAAD,IAAKA,CAAC,CAACZ,IAA9B;AALM,GAAhB;AAOA,SAAO;AAACC,IAAAA,KAAD;AAAOa,IAAAA;AAAP,GAAP;AACF,CAtBD;;AAuBA,eAAepB,eAAf","sourcesContent":["import {useContext} from 'react';\r\nimport {ExpenseTrackerContext} from './context/context'\r\n\r\nimport {incomeCategories,expenseCategories,resetCategories} from './constants/categories'\r\n\r\nconst useTransactions=(title)=>{\r\n   resetCategories();\r\n   const {transactions}=useContext(ExpenseTrackerContext);\r\n   const transactionsPerType=transactions.filter((t)=>t.type===title);\r\n   const total=transactionsPerType.reduce((acc,currVal)=>acc+currVal.amount,0);\r\n   const categories=title=='Income'?incomeCategories:expenseCategories;\r\n   console.log({transactionsPerType,total,categories});\r\n   transactionsPerType.forEach((t)=>{\r\n      const category=categories.find((c)=>c.type===t.category);\r\n      if(category)\r\n      category.amount+=t.amount;\r\n   });\r\n   const filteredCategories=categories.filter((c)=>c.amount>0);\r\n\r\n   const chartData={\r\n      datasets:[{\r\n         data:filteredCategories.map((c)=>c.amount),\r\n         backgroundColor:filteredCategories.map((c)=>c.color)\r\n      }],\r\n      labels:filteredCategories.map((c)=>c.type)\r\n   }\r\n   return {total,chartData}\r\n}\r\nexport default useTransactions;"]},"metadata":{},"sourceType":"module"}